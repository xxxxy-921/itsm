{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%AE%BE%E8%AE%A1/bkl-ite-cloud-redesign/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%AE%BE%E8%AE%A1/bkl-ite-cloud-redesign/components/workbench/global-sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useRef, useEffect } from \"react\"\nimport Link from \"next/link\"\nimport {\n  Bot,\n  ChevronDown,\n  ChevronRight,\n  Home,\n  Wrench,\n  BookOpen,\n  Database,\n  BarChart3,\n  FileText,\n  Activity,\n  Users,\n  CreditCard,\n  Link2,\n  Bell,\n  FolderOpen,\n  Ticket,\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nconst menuItems = [\n  { icon: Home, label: \"工作台\", labelEn: \"Workspace\", href: \"/\", id: \"workspace\" },\n  { \n    icon: Wrench, \n    label: \"ITSM\", \n    labelEn: \"ITSM\", \n    href: \"#\", \n    id: \"itsm\",\n    hasSubmenu: true,\n    submenu: [\n      { label: \"服务目录\", href: \"/service-catalog\", id: \"service-catalog\" },\n      { label: \"工单\", href: \"/tickets\", id: \"tickets\" },\n    ]\n  },\n  { icon: BookOpen, label: \"知识库\", labelEn: \"Knowledge\", href: \"#\", id: \"knowledge\" },\n  { icon: Database, label: \"CMDB\", labelEn: \"CMDB\", href: \"#\", id: \"cmdb\" },\n  { icon: Bell, label: \"事件\", labelEn: \"Events\", href: \"#\", id: \"events\" },\n]\n\nconst analyticsItems = [\n  { icon: BarChart3, label: \"指标\", labelEn: \"Metrics\", href: \"#\", id: \"metrics\" },\n  { icon: FileText, label: \"日志\", labelEn: \"Logs\", href: \"#\", id: \"logs\" },\n  { icon: Activity, label: \"应用性能\", labelEn: \"Performance\", href: \"#\", id: \"performance\" },\n]\n\nconst settingsItems = [\n  { icon: Users, label: \"组织管理\", labelEn: \"Organization\", href: \"#\", id: \"org\", hasSubmenu: true },\n  { icon: CreditCard, label: \"成本与账单\", labelEn: \"Billing\", href: \"#\", id: \"billing\", hasSubmenu: true },\n  { icon: Link2, label: \"集成\", labelEn: \"Integrations\", href: \"#\", id: \"integrations\", hasSubmenu: true },\n]\n\ninterface GlobalSidebarProps {\n  currentPage?: string\n}\n\nexport function GlobalSidebar({ currentPage = \"workspace\" }: GlobalSidebarProps) {\n  const [hoveredItem, setHoveredItem] = useState<string | null>(null)\n  const [submenuPosition, setSubmenuPosition] = useState({ top: 0 })\n  const itemRefs = useRef<{ [key: string]: HTMLAnchorElement | null }>({})\n  const hideTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  // 清除隐藏定时器\n  const clearHideTimeout = () => {\n    if (hideTimeoutRef.current) {\n      clearTimeout(hideTimeoutRef.current)\n      hideTimeoutRef.current = null\n    }\n  }\n\n  // 显示悬浮菜单\n  const showSubmenu = (itemId: string) => {\n    clearHideTimeout()\n    setHoveredItem(itemId)\n  }\n\n  // 延迟隐藏悬浮菜单\n  const hideSubmenuWithDelay = () => {\n    clearHideTimeout()\n    hideTimeoutRef.current = setTimeout(() => {\n      setHoveredItem(null)\n    }, 300) // 300ms 延迟\n  }\n\n  // 组件卸载时清除定时器\n  useEffect(() => {\n    return () => clearHideTimeout()\n  }, [])\n\n  useEffect(() => {\n    if (hoveredItem && itemRefs.current[hoveredItem]) {\n      const rect = itemRefs.current[hoveredItem]!.getBoundingClientRect()\n      setSubmenuPosition({ top: rect.top })\n    }\n  }, [hoveredItem])\n\n  const renderMenuItem = (item: typeof menuItems[0], isActive: boolean) => {\n    const hasSubmenu = item.hasSubmenu && item.submenu\n\n    return (\n      <div\n        key={item.id}\n        className=\"relative\"\n        onMouseEnter={() => hasSubmenu && showSubmenu(item.id)}\n        onMouseLeave={() => hasSubmenu && hideSubmenuWithDelay()}\n      >\n        <Link\n          ref={(el) => { itemRefs.current[item.id] = el }}\n          href={item.href}\n          className={cn(\n            \"flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 relative\",\n            isActive\n              ? \"bg-indigo-50 text-primary\"\n              : \"text-gray-500 hover:text-foreground hover:bg-gray-50\"\n          )}\n        >\n          {isActive && (\n            <span className=\"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-5 bg-primary rounded-r-full\" />\n          )}\n          <item.icon className=\"w-5 h-5\" />\n          <span>{item.label}</span>\n          {hasSubmenu && (\n            <ChevronRight className=\"w-4 h-4 ml-auto\" />\n          )}\n        </Link>\n\n        {/* 二级悬浮菜单 */}\n        {hasSubmenu && hoveredItem === item.id && (\n          <div \n            className=\"fixed left-[200px] z-50 animate-in fade-in slide-in-from-left-1 duration-100\"\n            style={{ top: submenuPosition.top }}\n            onMouseEnter={() => showSubmenu(item.id)}\n            onMouseLeave={() => hideSubmenuWithDelay()}\n          >\n            <div className=\"bg-white rounded-r-xl shadow-lg border border-l-0 border-gray-100 py-1 min-w-[140px]\">\n              {item.submenu?.map((subItem) => (\n                <Link\n                  key={subItem.id}\n                  href={subItem.href}\n                  className={cn(\n                    \"flex items-center gap-2 px-4 py-2.5 text-sm transition-colors\",\n                    currentPage === subItem.id\n                      ? \"bg-indigo-50 text-primary font-medium\"\n                      : \"text-gray-600 hover:bg-gray-50 hover:text-foreground\"\n                  )}\n                >\n                  {subItem.label}\n                </Link>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <aside className=\"w-[200px] h-screen bg-white border-r border-gray-100 flex flex-col fixed left-0 top-0 z-40\">\n      {/* Logo Header */}\n      <div className=\"h-16 px-5 flex items-center gap-3 border-b border-gray-50\">\n        <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-indigo-400 flex items-center justify-center\">\n          <Bot className=\"w-5 h-5 text-white\" />\n        </div>\n        <span className=\"font-semibold text-foreground tracking-tight\">BKLite Cloud</span>\n      </div>\n\n      {/* Navigation Menu */}\n      <nav className=\"flex-1 px-3 py-4 overflow-y-auto scrollbar-hide\">\n        <div className=\"space-y-1\">\n          {menuItems.map((item) => {\n            const isActive = currentPage === item.id || \n              (item.submenu?.some(sub => currentPage === sub.id))\n            return renderMenuItem(item, isActive)\n          })}\n        </div>\n\n        {/* Analytics Section */}\n        <div className=\"mt-6 pt-6 border-t border-gray-100\">\n          <div className=\"space-y-1\">\n            {analyticsItems.map((item) => (\n              <Link\n                key={item.id}\n                href={item.href}\n                className=\"flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-gray-500 hover:text-foreground hover:bg-gray-50 transition-colors\"\n              >\n                <item.icon className=\"w-5 h-5\" />\n                <span>{item.label}</span>\n              </Link>\n            ))}\n          </div>\n        </div>\n\n        {/* Settings Section */}\n        <div className=\"mt-6 pt-6 border-t border-gray-100\">\n          <div className=\"space-y-1\">\n            {settingsItems.map((item) => (\n              <Link\n                key={item.id}\n                href={item.href}\n                className=\"flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-gray-500 hover:text-foreground hover:bg-gray-50 transition-colors\"\n              >\n                <item.icon className=\"w-5 h-5\" />\n                <span>{item.label}</span>\n                {item.hasSubmenu && (\n                  <ChevronRight className=\"w-4 h-4 ml-auto\" />\n                )}\n              </Link>\n            ))}\n          </div>\n        </div>\n      </nav>\n\n      {/* User Profile */}\n      <div className=\"p-4 border-t border-gray-100\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-9 h-9 rounded-full bg-gradient-to-br from-primary to-violet-500 flex items-center justify-center text-white font-semibold text-sm\">\n            X\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm font-medium text-foreground truncate\">Xiaoyu Liu</p>\n            <p className=\"text-xs text-muted-foreground truncate\">umaru 的工作空间</p>\n          </div>\n        </div>\n      </div>\n    </aside>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 483, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%AE%BE%E8%AE%A1/bkl-ite-cloud-redesign/components/ui/tooltip.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip'\n\nimport { cn } from '@/lib/utils'\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  )\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  )\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  )\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,gBAAgB,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACoD;IACvD,qBACE,6TAAC,4RAAyB;QACxB,aAAU;QACV,eAAe;QACd,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBACE,6TAAC;kBACC,cAAA,6TAAC,wRAAqB;YAAC,aAAU;YAAW,GAAG,KAAK;;;;;;;;;;;AAG1D;MARS;AAUT,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,6TAAC,2RAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAJS;AAMT,SAAS,eAAe,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6TAAC,0RAAuB;kBACtB,cAAA,6TAAC,2RAAwB;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,IAAA,qHAAE,EACX,qaACA;YAED,GAAG,KAAK;;gBAER;8BACD,6TAAC,yRAAsB;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1C;MAtBS"}},
    {"offset": {"line": 582, "column": 0}, "map": {"version":3,"sources":["file:///D:/%E8%AE%BE%E8%AE%A1/bkl-ite-cloud-redesign/components/workbench/chat-area.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport {\n  Bot,\n  Send,\n  Sparkles,\n  Eye,\n  EyeOff,\n  Paperclip,\n  Mic,\n  ChevronDown,\n  Plus,\n  FolderOpen,\n  MessageCircle,\n  Check,\n  Settings,\n  ChevronLeft,\n  X,\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { Tooltip, TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\"\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\"\nimport { format } from \"date-fns\"\nimport { zhCN } from \"date-fns/locale\"\n\nconst agents = [\n  { id: 1, name: \"BKLite ITSM 助手\", version: \"v1.2.4\", active: true },\n  { id: 2, name: \"运维专家\", version: \"v1.0\", active: true },\n  { id: 3, name: \"知识库助手\", version: \"v2.1\", active: false },\n]\n\ntype Message = {\n  id: number\n  content: string\n  role: \"user\" | \"assistant\"\n  timestamp: Date\n}\n\ntype ChatHistory = {\n  id: number\n  title: string\n  agentName: string\n  timestamp: Date\n  messages: Message[]\n}\n\nconst mockHistories: ChatHistory[] = [\n  {\n    id: 1,\n    title: \"如何配置服务目录权限？\",\n    agentName: \"BKLite ITSM 助手\",\n    timestamp: new Date(2026, 0, 28, 14, 30),\n    messages: [\n      { id: 1, role: \"user\", content: \"如何配置服务目录权限？\", timestamp: new Date(2026, 0, 28, 14, 30) },\n      { id: 2, role: \"assistant\", content: \"配置服务目录权限需要以下几个步骤：\\n\\n1. 进入系统管理 > 权限管理\\n2. 选择服务目录模块\\n3. 设置相应的角色和权限\\n4. 保存配置即可生效\\n\\n您需要具体配置哪个方面的权限呢？\", timestamp: new Date(2026, 0, 28, 14, 30) },\n      { id: 3, role: \"user\", content: \"我想限制某些用户组只能查看特定的服务\", timestamp: new Date(2026, 0, 28, 14, 31) },\n      { id: 4, role: \"assistant\", content: \"明白了，您可以通过以下方式实现：\\n\\n1. 在权限管理中创建自定义用户组\\n2. 为该用户组设置服务可见性规则\\n3. 在服务目录中为每个服务指定可访问的用户组\\n4. 这样用户登录后只能看到被授权的服务\\n\\n需要我提供更详细的操作步骤吗？\", timestamp: new Date(2026, 0, 28, 14, 31) },\n    ],\n  },\n  {\n    id: 2,\n    title: \"服务器监控告警规则设置\",\n    agentName: \"运维专家\",\n    timestamp: new Date(2026, 0, 27, 16, 20),\n    messages: [\n      { id: 1, role: \"user\", content: \"如何设置服务器CPU使用率告警？\", timestamp: new Date(2026, 0, 27, 16, 20) },\n      { id: 2, role: \"assistant\", content: \"设置CPU使用率告警的步骤如下：\\n\\n1. 进入监控平台 > 告警配置\\n2. 创建新的告警规则\\n3. 选择指标类型：CPU使用率\\n4. 设置阈值（建议：警告80%，严重90%）\\n5. 配置通知方式（邮件、短信、企业微信等）\\n6. 设置告警接收人\\n\\n您想设置什么级别的告警阈值？\", timestamp: new Date(2026, 0, 27, 16, 21) },\n    ],\n  },\n  {\n    id: 3,\n    title: \"知识库文档管理\",\n    agentName: \"知识库助手\",\n    timestamp: new Date(2026, 0, 26, 10, 15),\n    messages: [\n      { id: 1, role: \"user\", content: \"如何批量导入知识库文档？\", timestamp: new Date(2026, 0, 26, 10, 15) },\n      { id: 2, role: \"assistant\", content: \"批量导入知识库文档有以下几种方式：\\n\\n1. Excel批量导入：准备标准模板，填写文档信息后上传\\n2. 文件夹导入：支持直接上传整个文件夹，系统自动识别文档类型\\n3. API接口导入：适合需要定期同步的场景\\n\\n您有多少文档需要导入？是什么类型的文档？\", timestamp: new Date(2026, 0, 26, 10, 16) },\n    ],\n  },\n]\n\nexport function ChatArea() {\n  const [selectedAgent, setSelectedAgent] = useState(agents[0])\n  const [agentDrawerOpen, setAgentDrawerOpen] = useState(false)\n  const [message, setMessage] = useState(\"\")\n  const [showReasoning, setShowReasoning] = useState(false)\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false)\n  const [currentMessages, setCurrentMessages] = useState<Message[]>([])\n  const [selectedHistoryId, setSelectedHistoryId] = useState<number | null>(null)\n\n  const handleHistoryClick = (history: ChatHistory) => {\n    setSelectedHistoryId(history.id)\n    setCurrentMessages(history.messages)\n    setSelectedAgent(agents.find(a => a.name === history.agentName) || agents[0])\n  }\n\n  return (\n    <div className=\"flex-1 ml-[200px] h-screen flex\">\n      {/* Left Panel - History Only */}\n      <div className={cn(\n        \"h-full bg-white border-r border-gray-100 flex flex-col transition-all duration-300\",\n        sidebarCollapsed ? \"w-0 overflow-hidden\" : \"w-[280px]\"\n      )}>\n        {/* New Chat Button */}\n        <div className=\"p-4 border-b border-gray-100\">\n          <button\n            type=\"button\"\n            className=\"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-indigo-600 text-white text-sm font-medium hover:bg-indigo-700 shadow-lg shadow-indigo-500/20 transition-all\"\n          >\n            <Plus className=\"w-5 h-5\" />\n            开启新对话\n          </button>\n        </div>\n\n        {/* History Section */}\n        <div className=\"flex-1 overflow-y-auto\">\n          <div className=\"px-4 py-2\">\n            <p className=\"text-xs font-medium text-muted-foreground\">历史对话</p>\n          </div>\n          \n          {/* History List */}\n          <div className=\"px-3 space-y-3 pb-4\">\n            {mockHistories\n              .filter(history => history.agentName === selectedAgent.name)\n              .map((history) => (\n                <button\n                  key={history.id}\n                  type=\"button\"\n                  onClick={() => handleHistoryClick(history)}\n                  className={cn(\n                    \"w-full p-3 rounded-xl text-left transition-all duration-200\",\n                    selectedHistoryId === history.id\n                      ? \"bg-white shadow-lg shadow-indigo-500/10 border border-indigo-100 scale-[1.02]\"\n                      : \"bg-white hover:bg-gray-50 shadow-sm hover:shadow-md border border-gray-100\"\n                  )}\n                >\n                  <div className=\"flex flex-col gap-2\">\n                    <p className={cn(\n                      \"text-sm font-medium line-clamp-1\",\n                      selectedHistoryId === history.id ? \"text-primary\" : \"text-foreground\"\n                    )}>\n                      {history.title}\n                    </p>\n                    <div className=\"flex items-center justify-between gap-2\">\n                      <span className=\"text-xs text-muted-foreground truncate\">\n                        {history.agentName}\n                      </span>\n                      <span className=\"text-xs text-muted-foreground whitespace-nowrap\">\n                        {format(history.timestamp, \"MM-dd HH:mm\")}\n                      </span>\n                    </div>\n                  </div>\n                </button>\n              ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Collapse Toggle Button */}\n      <button\n        type=\"button\"\n        onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n        className=\"absolute left-[480px] top-1/2 -translate-y-1/2 w-6 h-12 bg-white border border-gray-200 rounded-r-lg flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-50 transition-all z-10\"\n        style={{ left: sidebarCollapsed ? '200px' : '480px' }}\n      >\n        <ChevronLeft className={cn(\n          \"w-4 h-4 transition-transform\",\n          sidebarCollapsed && \"rotate-180\"\n        )} />\n      </button>\n\n      {/* Main Chat Area */}\n      <div className=\"flex-1 h-screen flex flex-col bg-white\">\n        {/* Header with Agent Selector */}\n        <header className=\"h-14 px-6 flex items-center justify-between border-b border-gray-100 bg-white\">\n          <div className=\"flex items-center gap-4\">\n            <h1 className=\"text-base font-medium text-foreground\">对话</h1>\n            \n            {/* Agent Selector Button */}\n            <button\n              type=\"button\"\n              onClick={() => setAgentDrawerOpen(true)}\n              className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gradient-to-r from-indigo-500 to-violet-500 text-white hover:shadow-lg hover:shadow-indigo-500/20 transition-all duration-200\"\n            >\n              <div className=\"w-6 h-6 rounded-md bg-white/20 flex items-center justify-center\">\n                <Bot className=\"w-4 h-4 text-white\" />\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-sm font-medium\">{selectedAgent.name}</span>\n                <span className=\"text-xs text-white/70\">{selectedAgent.version}</span>\n              </div>\n              <ChevronDown className=\"w-4 h-4 text-white/70\" />\n            </button>\n          </div>\n          \n          <button\n            type=\"button\"\n            onClick={() => setShowReasoning(!showReasoning)}\n            className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm text-muted-foreground hover:text-foreground hover:bg-gray-50 transition-all\"\n          >\n            显示推理追踪\n            {showReasoning ? (\n              <Eye className=\"w-4 h-4\" />\n            ) : (\n              <EyeOff className=\"w-4 h-4\" />\n            )}\n          </button>\n        </header>\n\n        {/* Main Chat Area with Grid Pattern */}\n        <div className=\"flex-1 grid-pattern overflow-y-auto\">\n          {currentMessages.length === 0 ? (\n            <div className=\"h-full flex flex-col items-center justify-center px-6 py-12\">\n              {/* Empty State */}\n              <div className=\"flex flex-col items-center\">\n                <div className=\"w-20 h-20 rounded-full bg-gray-50 border border-gray-100 flex items-center justify-center mb-6\">\n                  <MessageCircle className=\"w-10 h-10 text-gray-300\" />\n                </div>\n                <p className=\"text-base text-muted-foreground\">选择一个历史对话或开始新对话</p>\n              </div>\n            </div>\n          ) : (\n            <div className=\"max-w-3xl mx-auto px-6 py-6 space-y-6\">\n              {currentMessages.map((msg) => (\n                <div\n                  key={msg.id}\n                  className={cn(\n                    \"flex gap-4\",\n                    msg.role === \"user\" ? \"justify-end\" : \"justify-start\"\n                  )}\n                >\n                  {msg.role === \"assistant\" && (\n                    <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-violet-500 flex items-center justify-center flex-shrink-0\">\n                      <Bot className=\"w-5 h-5 text-white\" />\n                    </div>\n                  )}\n                  <div\n                    className={cn(\n                      \"max-w-[70%] rounded-2xl px-4 py-3\",\n                      msg.role === \"user\"\n                        ? \"bg-primary text-white\"\n                        : \"bg-gray-50 text-foreground\"\n                    )}\n                  >\n                    <p className=\"text-sm whitespace-pre-wrap\">{msg.content}</p>\n                    <p className={cn(\n                      \"text-xs mt-2\",\n                      msg.role === \"user\" ? \"text-white/70\" : \"text-muted-foreground\"\n                    )}>\n                      {format(msg.timestamp, \"HH:mm\")}\n                    </p>\n                  </div>\n                  {msg.role === \"user\" && (\n                    <div className=\"w-8 h-8 rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0\">\n                      <span className=\"text-sm font-medium text-gray-600\">我</span>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Chat Input */}\n        <div className=\"p-6 bg-white border-t border-gray-100\">\n          <div className=\"max-w-3xl mx-auto\">\n            <div className=\"flex items-center gap-3 p-2 bg-gray-50 rounded-2xl border border-gray-200\">\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <button\n                    type=\"button\"\n                    className=\"p-2 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors\"\n                  >\n                    <Paperclip className=\"w-5 h-5\" />\n                  </button>\n                </TooltipTrigger>\n                <TooltipContent side=\"top\">\n                  <p>支持 txt、docx、jpg、png、markdown 等格式</p>\n                </TooltipContent>\n              </Tooltip>\n              <input\n                type=\"text\"\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n                placeholder=\"输入消息...\"\n                className=\"flex-1 px-2 py-2 text-sm bg-transparent border-0 outline-none placeholder:text-muted-foreground\"\n              />\n              <button\n                type=\"button\"\n                disabled={!message.trim()}\n                className={cn(\n                  \"flex items-center justify-center w-10 h-10 rounded-xl transition-all duration-200\",\n                  message.trim()\n                    ? \"bg-gradient-to-r from-primary to-violet-500 text-white shadow-lg shadow-indigo-500/25 hover:shadow-xl\"\n                    : \"bg-indigo-600 text-white\"\n                )}\n              >\n                <Send className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}